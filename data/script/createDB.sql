CREATE TABLE IF NOT EXISTS T_PATIENT
(
  PATIENTID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
  LASTNAME   VARCHAR(200) NOT NULL,
  FIRSTNAME  VARCHAR(200) NOT NULL,
  MIDDLENAME VARCHAR(200),
  PHONE      VARCHAR(200) NOT NULL
);
CREATE TABLE IF NOT EXISTS T_DOCTOR
(
    DOCTORID   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    LASTNAME   VARCHAR(200) NOT NULL,
    FIRSTNAME  VARCHAR(200) NOT NULL,
    MIDDLENAME VARCHAR(200),
    SPEC       VARCHAR(200) NOT NULL
);
CREATE TABLE IF NOT EXISTS T_RECIPE
(
    DOCTORID     BIGINT NOT NULL,
    PATIENTID    BIGINT NOT NULL,
    DESCRIPTION  VARCHAR(30) NOT NULL,
    CREATIONDATE DATE DEFAULT CURRENT_DATE NOT NULL,
    VALIDITY     INT NOT NULL,
    PRIORITY     VARCHAR(30) NOT NULL CHECK (PRIORITY='Normal' or PRIORITY='Cito' or PRIORITY='Statim'),
    CONSTRAINT PK_T_RECIPE PRIMARY KEY (DOCTORID, PATIENTID),
    CONSTRAINT FK_T_DOCTOR FOREIGN KEY (DOCTORID) REFERENCES T_DOCTOR(DOCTORID),
    CONSTRAINT FK_T_PATIENT FOREIGN KEY (PATIENTID) REFERENCES T_PATIENT(PATIENTID)

);