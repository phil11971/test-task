CREATE TABLE IF NOT EXISTS PATIENT
(
  PATIENTID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
  LASTNAME   VARCHAR(50) NOT NULL,
  FIRSTNAME  VARCHAR(50) NOT NULL,
  MIDDLENAME VARCHAR(50),
  PHONE      VARCHAR(15) NOT NULL
);
CREATE TABLE IF NOT EXISTS DOCTOR
(
    DOCTORID   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    LASTNAME   VARCHAR(50) NOT NULL,
    FIRSTNAME  VARCHAR(50) NOT NULL,
    MIDDLENAME VARCHAR(50),
    SPEC       VARCHAR(150) NOT NULL
);
CREATE TABLE IF NOT EXISTS RECIPE
(
    DOCTORID     BIGINT NOT NULL,
    PATIENTID    BIGINT NOT NULL,
    DESCRIPTION  VARCHAR(100) NOT NULL,
    CREATIONDATE DATE DEFAULT CURRENT_DATE NOT NULL,
    VALIDITYDATE DATE NOT NULL,
    PRIORITY     VARCHAR(30) NOT NULL CHECK (PRIORITY='Normal' or PRIORITY='Cito' or PRIORITY='Statim'),
    CONSTRAINT PK_RECIPE PRIMARY KEY (DOCTORID, PATIENTID),
    CONSTRAINT FK_DOCTOR FOREIGN KEY (DOCTORID) REFERENCES DOCTOR(DOCTORID),
    CONSTRAINT FK_PATIENT FOREIGN KEY (PATIENTID) REFERENCES PATIENT(PATIENTID)

);